{% load static %}
{% load custom_tags %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static '/css/mesas.css' %}">
    <link rel="stylesheet" href="{% static '/css/mesas.css' %}">
    <title>Document</title>
</head>
<body>
    <!-- Menú superior -->
    <button class="menu-toggle" onclick="toggleMenu()">☰</button>
    <ul class="main-menu" id="mainMenu">
        <li class="admin-item"><a href="{% url 'admin' %}">Inicio</a></li>
        {% if user.is_authenticated %}
            <li class="admin-item"><a href="{% url 'cervezas' %}">Productos</a></li>
            <li class="admin-item"><a href="{% url 'mesas' %}">Mesas</a></li>
            {% if user|has_group:"ombu" %}
                <li class="admin-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
                <li class="admin-item"><a href="{% url 'reserva' %}">Reserva</a></li>
                <li class="admin-item"><a href="#">Usuarios</a></li>
            {% endif %}
            <li class="admin-item"><a href="{% url 'logout' %}">CERRAR SESIÓN</a></li>
        {% endif %}
    </ul>
    <!-- Fondo con capa oscura -->
    <div class="background-overlay"></div>

    <!-- Sección de Mesas -->
    <div class="mesas-section">
        <h2>Mesas</h2>
        <div class="mesas-grid">
            {% for i in "123456789101112"|make_list %}
                <div class="mesa" data-mesa="{{ i }}">
                    <i class="fas fa-chair"></i>
                    <h3>Mesa {{ i }}</h3>
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- Sección de Pedidos -->
    <div class="pedido-section" id="pedido-section">
        <h3>Pedido de la Mesa <span id="mesa-seleccionada"></span></h3>
        <table>
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Precio Unitario</th>
                    <th>Cantidad</th>
                    <th>Total</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="pedido-body">
                <!-- Productos dinámicos -->
            </tbody>
        </table>

        <button id="agregar-producto-btn" data-url="{% url 'cervezas' %}">Agregar Producto</button>
        <p>Total del Pedido: $<span id="total-pedido">0.00</span></p>
        <select id="medio-pago">
            <option value="efectivo">Efectivo</option>
            <option value="tarjeta">Tarjeta</option>
            <option value="transferencia">Transferencia</option>
        </select>
        <button onclick="finalizarPedido()">Finalizar Pedido</button>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-bottom">
            <p>&copy; 2025 Restaurante Nombre. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="{% static '/js/mesas.js' %}"></script>
    
</body>
</html>