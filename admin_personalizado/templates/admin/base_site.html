{% extends "admin/base.html" %}
{% load static i18n %}

{% block extrastyle %}{{ block.super }}
<link rel="stylesheet" href="{% static 'admin_personalizado/admin.css' %}">

<style id="dynamic-bg-style">
    /* Este estilo será modificado por JavaScript */
    body, #content {
        background-color: #1A3330;
    }
    
    
</style>

{% endblock %}


{% block branding %}
<div class="navbar">
    <div class="brand">
        <h1 id="site-name"><a href="{% url 'admin:index' %}">{{ site_header|default:_('OMBÚ') }}</a></h1>
    </div>
    <ul class="main-nav">
        {% for app in available_apps %}
            {% if app.app_label == 'inicio' %}
                {% for model in app.models %}
                    <li><a href="{{ model.admin_url }}">{{ model.name }}</a></li>
                {% endfor %}
            {% endif %}
        {% endfor %}
    </ul>
</div>
{% endblock %}

{% block nav-global %}{% endblock %}




{% block extrajs %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Obtener elementos
    const colorPicker = document.getElementById('admin-bg-color');
    const dynamicStyle = document.getElementById('dynamic-bg-style');
    
    // Cargar color guardado
    const savedColor = localStorage.getItem('adminBgColor');
    if (savedColor) {
        colorPicker.value = savedColor;
        updateBackgroundColor(savedColor);
    }
    
    // Manejar cambio de color
    colorPicker.addEventListener('input', function() {
        updateBackgroundColor(this.value);
        localStorage.setItem('adminBgColor', this.value);
    });
    
    function updateBackgroundColor(color) {
        dynamicStyle.textContent = `
            body, #content {
                background-color: ${color} !important;
                transition: background-color 0.5s ease;
            }
        `;
    }
});
</script>
{% endblock %}